# Overall Disease Burden

```{r}
# Load necessary packages
pacman::p_load(tidyverse, knitr, here)

# Import the overall disease data
data_overall <- read_csv(here("data/burden-of-disease-all-causes.csv"))
head(data_overall)

```

```{r}
# Filter the dataset to include only the three countries chosen by your group.
data_overall_mini <- data_overall %>% 
  filter(Entity %in% c("Ghana", "China","Ethiopia","India"))
```

## Table of Estimates for Overall Disease Burden Over Time

```{r}
# Here render a table for the DALY burden over time for the three countries. 

# You should pivot the data wider to show each country in a separate column.
# Ensure tidyr is loaded
library(tidyr)

# Pivot the data wider

data_overall_wide <- data_overall_mini %>%
  pivot_wider(
    names_from = Entity, 
    values_from = `DALYs (Disability-Adjusted Life Years) - All causes - Sex: Both - Age: Age-standardized (Rate)`
  )

#Remove code colomn
data_overall_wide1 <- subset(data_overall_wide, select = -Code)

# Rename columns
data_overall_wide1 <- rename(data_overall_wide1, 
                             `DALY/China` = China, 
                             `DALY/Ethiopia` = Ethiopia, 
                             `DALY/Ghana` = Ghana, 
                             `DALY/India` = India)

# Replace all NA values with 0

data_overall_wide1 <- data_overall_wide1 %>% mutate_all(~replace(., is.na(.), 0))


kable(data_overall_wide1)



  
# Use kable() from the knitr package to render the table.
```

## Plot Showing Trends in Overall Disease Burden Over Time

```{r}
# Here, plot a line graph showing the trend of DALY burden for the chosen countries over time. You can use ggplot2 to create this plot. Each country's line should be a different color.
# NOTE: Use your long 'mini' data frame for plotting, not the wide data used for the table. 

library(ggplot2)

plote_data_mini <- ggplot(data_overall_mini, aes(x=Entity, y=`DALYs (Disability-Adjusted Life Years) - All causes - Sex: Both - Age: Age-standardized (Rate)`))+
  geom_line(aes(group=1))+
  labs(
    title = "Disability-Adjusted Life Years (DALYs) by Entity",
    x = "Entity",
    y = "DALYs (Age-standardized Rate)"
  ) +
  theme_minimal() +
  theme(axis.text.x = element_text(angle = 45, hjust = 1))

plot(plote_data_mini)


```

## Summary of Overall Disease Burden Findings

Provide a brief analysis based on the data presented in the table and chart. Highlight any significant findings or patterns. About 3 sentences.
